@page
@model Nasa_API.Pages.AsteroidsModel
@{
    ViewData["Title"] = "Asteroids";
    IList<NasaAsteroid> nasaAsteroids = (List<NasaAsteroid>)TempData["NasaAsteroids"];
}

<link rel="stylesheet" href="~/css/asteroids.css" />

<div class="card">
    <div class="card-body shadow">
        <div id="container">
            <ejs-datepicker id="date" format="yyyy-MM-dd" width="200" placeholder="Date"></ejs-datepicker>
            <ejs-button id="submit" content="Search" cssClass="e-small"></ejs-button>
        </div>
    </div>
</div>

<div class="" id="target" style="overflow:auto">
    <ejs-dialog id="dialog" width="400px" target="#target"
                showCloseIcon="true" header="Cannot find event">
        <e-dialog-animationsettings effect="Zoom"></e-dialog-animationsettings>
        <e-content-template>
            <div class='dialog-content'>
                <div class='msg-wrapper  col-lg-12'>
                    <span class='error-msg col-lg-10'>Cannot find an event from this type during this date</span>
                </div><div class='error-detail col-lg-8'><span>Specify a different date</span> </div>
            </div>
        </e-content-template>
    </ejs-dialog>
</div>


<ejs-progressbar id="progressBar" type='Circular' height='80' minimum="0" style="overflow:auto" maximum="100"
                 value=20 isIndeterminate="true">
    <e-progressbar-animation enable=true duration=350 delay=0></e-progressbar-animation>
</ejs-progressbar>

<ejs-grid id="asteroidsGrid" excelExportComplete="excelExportComplete" pdfExportComplete="pdfExportComplete" allowSorting="true" allowFiltering="true" allowExcelExport="true" toolbarClick="toolbarClick" toolbar="@(new List<string>() { "ExcelExport", "PdfExport" })" allowPdfExport="true">
    <e-grid-columns>
        <e-grid-column field="Id" headerText="Nasa Id" textAlign="Left" width="90"></e-grid-column>
        <e-grid-column field="Name" headerText="Name" width="90"></e-grid-column>
        <e-grid-column field="Url" template="#template" headerText="Official web site" width="160" textAlign="Left"></e-grid-column>
        <e-grid-column field="Magnitude" headerText="Magnitude" width="80"></e-grid-column>
        <e-grid-column field="Diameter_In_Meters" headerText="Diameter in meters" width="80"></e-grid-column>
        <e-grid-column field="Kilometers_Per_Second" headerText="Kilometers per hours" width="90"></e-grid-column>
        <e-grid-column field="Miss_Distance_In_Kilometers" headerText="Miss distance in kilometers" width="110"></e-grid-column>
    </e-grid-columns>
</ejs-grid>

<script src="~/lib/jquery/dist/jquery.js"></script>
<script src="~/js/asteroids.js" asp-append-version="true"></script>

<script id="template" type="text/x-template">
    <div>
        <a rel='nofollow' href="${Url}">${Url}</a>
    </div>
</script>
